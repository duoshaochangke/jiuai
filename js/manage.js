$(document).ready(function(){$(".headerul>li:last-child").hover(function(){$(this).css("backgroundColor","#333333");$("#edit").css("color","#0074A2");$("#editprofile").slideDown(300)},function(){$(this).css("backgroundColor","#222222");$("#edit").css("color","#FFFFFF");$("#editprofile").slideUp(300)});var ue=UE.getEditor("blogcontent",{autoHeightEnabled:false,initialFrameHeight:500,toolbars:[["undo","redo","indent","fontfamily","fontsize","bold","italic","underline","strikethrougn","forecolor","backcolor","justifyleft","justifytight","justifycenter","justifyjustify","insertorderedlist","insertunorderedlist","link","unlink","simpleupload","insertimage","blockquote","inserttable","insertcode","source","preview","cleardoc","spechars","help","fullscreen"]]});$("#blogtitle,#blogtags,#source,#slink").bind("focus mouseover",function(){$(this).css("borderColor","#1AA3FF")});$("#blogtitle,#blogtags,#source,#slink").bind("blur mouseout",function(){$(this).css("borderColor","#E1E1E1")});var pattern=/^https?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?$/;$("#postForm").submit(function(){if($("#blogtitle").val()==""){layer.tips("文章标题不能为空","#blogtitle",{guide:1,time:3});$("#blogtitle").focus();return false}if($("#blogtitle").val().length>255){layer.tips("文章标题太长","#blogtitle",{guide:1,time:3});$("#blogtitle").focus();return false}if($("#source").val()!=""){if($("#source").val().length>15){layer.tips("博文来源太长","#source",{guide:1,time:3});$("#source").focus();return false}}if($("#slink").val()!=""){if(!pattern.test($("#slink").val())){layer.tips("博文链接格式有误","#slink",{guide:1,time:3});$("#slink").focus();return false}if($("#slink").val().length>255){layer.tips("博文链接不长度太长","#slink",{guide:1,time:3});$("#slink").focus();return false}}if($("input[type=checkbox]:checked").size()==0){layer.tips("请选择文章类别","#blogtcat",{guide:1,time:3});$("input[type=checkbox]").eq(0).focus();return false}if($("input[type=checkbox]:checked").size()>3){layer.tips("文章类别不超过3个","#blogtcat",{guide:1,time:3});$("input[type=checkbox]").eq(0).focus();return false}if($("#blogtags").val()==""){layer.tips("博文标签不能为空","#blogtags",{guide:1,time:3});$("#blogtags").focus();return false}if($("#blogtags").val().length>15){layer.tips("博文标签太长","#blogtags",{guide:1,time:3});$("#blogtags").focus();return false}if(ue.getContent()==""){layer.tips("博文内容不能为空","#blogcontent",{guide:1,time:3});$("#blogcontent").focus();return false}var loadinglayer=layer.load("正在保存…");return true});$("#return").click(function(){location.href=document.referrer})});